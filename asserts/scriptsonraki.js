

var questions = [

    {

        text: "1422-ci ildə II Murad tərəfindən Osmanlı İmperiyasının tərkibinə qatılan, yunanların Smirna adlandırdığı bu şəhərdə dahi şair Homer dünyaya gəlmişdi.",

        correct: "B",

        secondary: "C",

        variants: {

            A: "İstanbul",

            B: "İzmir",

            C: "Adana",

            D: "Ankara"

        },
        // sual={

        //     {
        //         sual: ['a','b','c','d'],
        //         dogru:'a'
        //     }

        // },



    },

    {

        text: "1901-ci ildə dünyaya gəlmiş İsfəndiyar adlı şəxs Qarabağı idarə etmiş sülalənin nümayəndəsi idi.Bəs biz onu hansı adla tanıyırıq? ",

        correct: "B",

        secondary: "A",

        variants: {

            A: "İsfəndiyar Bəy",

            B: "Xan Şuşinski",

            C: "Əhməd bəy",

            D: "Xudayar"

        }



    },

    {

        text: "1949-cu ildən sonra ortaya çıxan və “yaşıl xətt” adlanan demakrasiya xətti məhz bu dövləti bir sıra ərəb ölkələrindən ayırır",

        correct: "A",

        secondary: "C",

        variants: {

            A: "İsrail",

            B: "Dubai",

            C: "Çin",

            D: "Vyetnam"

        }



    },

    {

        text: "1966-cı ildə Fransa Qran-Prisini izləmək üçün yollanan bu italyalı sürücü,qəza zamanı dünyasını dəyişmişdi. Yaddaşlarda isə ilk formula 1 çempionu kimi qalacaqdı",

        correct: "D",

        secondary: "A",

        variants: {

            A: "Thomas Whealton",

            B: "Steven Jork",

            C: "Thomas Adenson",

            D: "Cuzeppe Farina"

        }



    },

    {

        text: "Bu sindroma, bəzən ona tutulmuş insanların gözlərinin yuxarıya doğru qıyıq olması və üzlərinin monqollara oxşarlığına görə monqolizm də deyilir. ",

        correct: "C",

        secondary: "B",

        variants: {

            A: "Duan",

            B: "Balin",

            C: "Daun",

            D: "Buan"

        }



    },

    {

        text: "Slenqdən fərqli olaraq,fonetik və qrammatik sistemi olmayan,əsasən qara camaatın istifadə etdiyi bu gizli dili Viktor Hüqo Səfillərin dili olaraq adlandırmışdı.",

        correct: "A",

        secondary: "D",

        variants: {

            A: "Arqo",

            B: "Bayvo",

            C: "Bitvo",

            D: "Oqra"

        }



    },

    {

        text: "Bu dövlətin bayrağı müstəqil dövlətlərin bayraqları arasında ən ensiz və ən uzun bayraqdır.",

        correct: "C",

        secondary: "A",

        variants: {

            A: "Ukraniya",

            B: "Amerika",

            C: "Qətər",

            D: "Özbəkistan"

        }



    },

    {

        text: "1937-ci ildə Repressiyaya məruz qalan bu dövlət xadimi,1922-ci ildə N.Nərimanovun vəfatından sonra Azərbaycan SSR Xalq Komissarları Sovetinin Sədri təyin olaraq 8 il ölkəyə rəhbərlik etmişdir.",

        correct: "B",

        secondary: "A",

        variants: {

            A: "Davud Hüseynov",

            B: "Qəzənfər Musabəyov",

            C: "Səməd Vurğun",

            D: "Həzi Aslanov"

        }



    },

    {

        text: "19-cu esirde yasayan yazici?",

        correct: "B",

        secondary: "D",

        variants: {

            A: "Carlos Castaneda",

            B: "Dostoyovski",

            C: "Nizami Gencevi",

            D: "Bukovski"

        }



    },

    {

        text: "İspaniyanın bu şəhəri Dünyanın ən qanlı festivalı kimi tanınan San Fermin festivalı ilə məşhurdur.",

        correct: "B",

        secondary: "D",

        variants: {

            A: "Barcelona",

            B: "Pamplona",

            C: "Qranada",

            D: "Hec biri"

        }



    },

    {

        text: "Azərbaycanın neçə faiz torpağları işğal altındadır?",

        correct: "C",

        secondary: "A",

        variants: {

            A: "80%",

            B: "40%",

            C: "20%",

            D: "0%"

        }



    },

    {

        text: "Bu terminlə rəsmi olaraq vəzifə tutmayan, amma ölkəni idarə edən insanları adlandırılar",

        correct: "C",

        secondary: "B",

        variants: {

            A: "İmperator",

            B: "Papa",

            C: "Boz kardinal",

            D: "Ağ adam"

        }



    },

    {

        text: "1934-cü ildə 85 nəfərin qətl edilməsi ilə nəticələnən bu məşhur hadisənin digər adı Kolibri əməliyyatı dır.",

        correct: "A",

        secondary: "D",

        variants: {

            A: "Uzun bıçaqlar gecəsi",

            B: "Vətənə xəyanət",

            C: "Əsla geri baxma",

            D: "Yalnız irəli"

        }



    },

    {

        text: "Bu avtomobil şirkəti öz modellərinə korrida öküzlərinin adını qoymaqla məşhurdur.?",

        correct: "C",

        secondary: "D",

        variants: {

            A: "Porşe",

            B: "Mercedes",

            C: "Lamborgini",

            D: "Jaguar"

        }



    },

    {

        text: "Qrinviç meridianı 2 paytaxt şəhərindən keçir. Bunlardan biri Londondur. Digərini siz deyin. ?",

        correct: "D",

        secondary: "A",

        variants: {

            A: "Paris",

            B: "Qrinviç",

            C: "Venesia",

            D: "Akkra"

        }



    },

    {

        text: "İlk vaxtlar Futbol üzrə Dünya Çempionatının kuboku onun ilk təşkilatçısı, ideya müəllifinin adı ilə əlaqədar məhz belə adlanırdı.",

        correct: "B",

        secondary: "C",

        variants: {

            A: "Foot For",

            B: "Jül Rime",

            C: "David Gool",

            D: "Tom Berbard"

        }
    },
    {

        text: "1501 ci ilde ne oldu ?",

        correct: "B",

        secondary: "C",

        variants: {

            A: "Caldiran Doyusu",

            B: "Sefevi yarandi",

            C: "Osmanli yarandi",

            D: "Atropotena yarandi"

        }
    },
];



$(document).ready(function () {
    var myVar;

    function myFunction() {
        myVar = setTimeout(alertFunc, 3000);
    }

    function alertFunc() {
        console.log('isleyir')
    }

    function myStopFunction() {
        clearTimeout(myVar);
    }
    for (var i = 0; i < 16; i++) {

        myFunction()

        $(".data" + i).addClass('animated fadeInUp animationclass')



    }

    var amount = 0;
    var starter = new Audio()
    starter.src = "../starter.mp3"


    var fifty = new Audio()

    fifty.src = "../50.mp3"

    var round = new Audio()
    round.src = "../rounds.mp3"
    var wrong = new Audio()
    wrong.src = "../wronganswer.mp3"
    wrong.type = 'audio/mp3';
    var test = new Audio()

    test.src = "../correctanswer.mp3"
    var nextt = new Audio()
    nextt.src = "../next.mp3"


    /*     var levelammount = $('li')
        
      
        var myVar;
    
        function myFunction() {
          myVar = setTimeout(alertFunc, 3000);
        }
        
        function alertFunc() {
          console.log('isleyir')
        }
      
      function myStopFunction() {
        clearTimeout(myVar);
      } 
        for (var i = 0;i<16;i++){
            i = setInterval($( ".data"),500)
            myFunction()
          
            $(".data" + i).css('background-color','red')
            $( ".data" + i).effect( "slide", "slow" );
           
            
        } */

    var i = 1;
    function backcolor() {

        var interval = setInterval(function () {

            change();


        }, 300)

    }


    /*         function change() {
                $(".data" + i).css('background-color', 'green')
                $(".data" + i).css('opacity', 0.3 + i/20)
                $( ".data" + i).effect( "slide", "slow" );
           
                i++;
                if (i == 16) {
                    setInterval(function(){
                        for (var j = 1;j < 16; j++) {
                        
                            $(".data" + j).css('background-color', 'blue')
                            $(".data" + j).css('opacity', 0.3 + j/20)
            
                        }
                    },1500)
                 
                    clearInterval(interval)
                }
            } */





    function change() {
          
           $(".data" + i).css('background-color', 'green')
           $(".data" + i).css('opacity', 0.3 + i/20)
           
           
           i++;
           if (i == 16) {
               setInterval(function(){
                   for (var j = 1;j < 16; j++) {
                       
                   
                       $(".data" + j).css('background-color', 'black')
                       $(".data" + j).css('opacity', 0.3 + j/20)
                       
       
                   }
               },1500)
            
               clearInterval(interval)
             
           }
         
       }
      
       backcolor()




    var level = 0;


    anime({
        targets: '#btn50',
        translateX: function (el) {
            return el.getAttribute('data-x');
        },
        translateY: function (el, i) {
            return 50 + (-50 * i);
        },
        scale: function (el, i, l) {
            return (l - i) + .25;
        },
        rotate: function () { return anime.random(-360, 360); },
        borderRadius: function () { return ['50%', anime.random(10, 35) + '%']; },
        duration: function () { return anime.random(1200, 1800); },
        delay: function () { return anime.random(0, 400); },
        direction: 'alternate',
        loop: true
    });

    var keys = Object.keys(questions)
    var counter = keys[Math.floor(Math.random() * keys.length)];
    showQuestion()


    $('#btn50').one('click', function () {

        var question = questions[counter]
        $('.badge').each(function () {
            if ($(this).text()[0] != question.correct
                && $(this).text()[0] != question.secondary) {

                $('#btn50').css('background-color', 'black').css('color', 'red').css('textDecoration', 'line-through')
                fifty.play()
                $(this).css("textDecoration", "line-through").css('color', 'gray').css('backgroundColor', 'black').css('cursor', 'not-allowed');
                $(this).off()

            }
        })
    })
    function effect() {
        anime({
            targets: '.question',
            left: '5px',
            backgroundColor: '#FFF',
            borderRadius: ['0%', '50%'],
            easing: 'easeInOutQuad'
        });
        anime({
            targets: '.answers',
            left: '5px',
            backgroundColor: '#FFF',
            borderRadius: ['0%', '50%'],
            easing: 'easeInOutQuad'
        });
    }

    var timeLeft = 30;
    var elem = document.getElementById('countdown');
    elem.className += " animated slideInUp animationclass";


    var timerId = setInterval(countdown, 1000);

    function countdown() {
        if (timeLeft < 10) {
            $(elem).css("padding-left", "25px");

        }

        if (timeLeft == -1) {
            lose()
            clearTimeout(timerId);


        } else {

            elem.innerHTML = timeLeft;
            timeLeft--;
        }
    }

    function next() {
        questions.splice(counter, 1)
        var keys = Object.keys(questions)
        counter = keys[Math.floor(Math.random() * keys.length)]

        showQuestion()
        $('#countdown').show()


    }




    function showQuestion() {

        $('.question').empty()
        var question = questions[counter]

        var h1 = $('<h1>')
        h1.addClass('h1')

        h1.text(questions[counter].text)


        $('.question').append(h1)

        $('.answers').empty()

        var row1 = $('<div>')

        row1.addClass('row animated fadeInUp animationclass')

        row1.append(createVariant('A'))
        row1.append(createVariant('B'))

        var row2 = $('<div>')

        row2.addClass('row animated fadeInUp animationclass')
        row2.append(createVariant('C'))
        row2.append(createVariant('D'))

        $('.answers').append(row1)
        $('.answers').append(row2)


    }

    function createVariant(symbol) {
        var variant = $('<div>')
        variant.addClass('col badge badge-primary p-3 m-2 answerbutton')

        variant.text(`${symbol}) ${questions[counter].variants[symbol]}`)
        variant.one('click', variantListener)


        return variant;
    }
    var seconds;
    var temp;



    function lose() {
        $("#btn50").prop("disabled", true);

        starter.play()
        var row1 = $('<div>')

        row1.addClass('row animated fadeInUp animationclass')
        $('.end').append(row1)
        $('.answers').hide()
        timeLeft = NaN;
        $('#countdown').hide()
        row1.append(`<span  class="animated fadeInUp animationclass"> Qazanciniz :   ${amount}  <br> Duzgun variant: ${questions[counter].correct}</span>  <a href='index.html' style='margin-left:60px;'><img src='replay.png' width='80px';height='90px' ;></a>
        `)
    }

    function millionare() {
        $("#btn50").prop("disabled", true);
        var row1 = $('<div>')

        row1.addClass('row animated fadeInUp animationclass')
        $('.end2').append(row1)
        $('#countdown').hide()
        $('.question').hide()

        timeLeft = NaN;
        $('#countdown').hide()
        row1.append(`Oyun Basha Catdi  <span style="background-color:green;" class="animated fadeInUp animationclass"> Oyunun Butun Suallarina cavab verdiniz ve  :   ${amount} <img src="reward.gif" width="70px" height="80px">  Qazandiniz Ugurlariniz axarli olsun :) Hediyyeniz Video </span>
        <iframe width="800" height="315" src="https://www.youtube.com/embed/lkDBImBAmN0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`)
    }

    function variantListener() {

        var variant = $(this)

        variant.removeClass('badge-info')
        variant.addClass('badge-warning  answerwarning  animated flash animationclass')
        $('.badge').off()
        variant.removeClass('answerbutton')
        variant.addClass('answerselected')

        timeLeft = 30

        var answer = $(this).text()[0]

        setTimeout(function () {

            if (answer == questions[counter].correct) {





                variant.removeClass('badge-warning answerwarning')
                variant.addClass('badge-success answersuccess animated pulse animationclass')


                ++level;

                console.log(level)

                if (level === 1) {
                    amount = 100;
                }
                else if (level === 2) {
                    amount = 200;
                }
                else if (level === 3) {
                    amount = 300;
                }
                else if (level === 4) {
                    amount = 500;
                }
                else if (level === 5) {
                    amount = 1000;
                }
                else if (level === 6) {
                    amount = 2000;
                }
                else if (level === 7) {
                    amount = 4000;
                }
                else if (level === 8) {
                    amount = 8000;
                }
                else if (level === 9) {
                    amount = 16000;
                }
                else if (level === 10) {
                    amount = 32000;
                }
                else if (level === 11) {
                    amount = 64000;
                }
                else if (level === 12) {
                    amount = 125000;
                }
                else if (level === 13) {
                    amount = 125000;
                }
                else if (level === 14) {
                    amount = 250000;
                }
                else if (level === 15) {
                    amount = 500000;
                }
                else if (level === 16) {
                    amount = 1000000;
                }
                console.log(amount)
                if (level === 16) {

                    return millionare();
                }
                nextt.play()
                setTimeout(function () {


                    next()

                    timeLeft = 30;


                    for (var i = 1; i <= 15; i++) {
                        if (level == i) {

                            $(".data" + i).css('background-color', 'green').css('font-size', '20px').addClass('animated pulse animationclass2')
                            $(".data" + i).effect("slide", "slow");

                            $(".data" + i).css('background-color', 'green').css('font-size', '18px')

                        }
                    }
                }, 4500)
            }
            else {
                wrong.play()
                variant.removeClass('badge-warning answerwarning')
                variant.addClass('badge-danger answerdanger animated rubberBand animationclass')
                setTimeout(function () {

                    lose()

                }, 2000)
            }
        }, 4000)
        test.play()

    }


})